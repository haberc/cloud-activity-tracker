---

copyright:
  years: 2016, 2018
lastupdated: "2018-11-06"

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:pre: .pre}
{:table: .aria-labeledby="caption"}
{:codeblock: .codeblock}
{:tip: .tip}
{:download: .download}


# Getting started
{: #getting-started-with-cla}

The {{site.data.keyword.cloudaccesstrailfull}} service records user-initiated activities that change the state of a service in the {{site.data.keyword.Bluemix}}. Learn how to use the {{site.data.keyword.cloudaccesstrailfull}} service to monitor a user's interaction with a Cloud service. 
{:shortdesc}

The following figure shows the different components and actions that occur when a user-initiated activity changes the state of a service:

![Components and actions that occur when a user-initiated activity changes the state of a service](images/AT_f1.png "Components and actions that occur when a user-initiated activity changes the state of a service")

**Note:** This getting started will show you how to get up and running to monitor Cloud activity in us-south.

## Before you begin
{: #prereqs}

* Read about the {{site.data.keyword.cloudaccesstrailshort}} service. For more information, see [About {{site.data.keyword.cloudaccesstrailshort}}](/docs/services/cloud-activity-tracker/activity_tracker_ov.html#activity_tracker_ov).
* Check the regions where the service is available. For more information, see [Regions](/docs/services/cloud-activity-tracker/activity_tracker_ov.html#regions).
* Get a user ID that is a member or an owner of an {{site.data.keyword.Bluemix_notm}} account. 

    To get an {{site.data.keyword.Bluemix_notm}} user ID, go to: [Registration ![External link icon](../../icons/launch-glyph.svg "External link icon")](https://console.bluemix.net/registration/){:new_window}.



## Step 1: Provision {{site.data.keyword.cloudaccesstrailshort}}
{: #step1}

Consider the following information to choose where to provision an instance of the {{site.data.keyword.cloudaccesstrailshort}} service:

* {{site.data.keyword.cloudaccesstrailshort}} collects events into domains. There is an account domain per region, and a space domain per Cloud Foundry (CF) space. 

* **To monitor global account actions**, you must provision an instance of the {{site.data.keyword.cloudaccesstrailshort}} service in a space in the us-south region. These are some examples of global actions: provisioning an instance, changing a user's IAM policy, or inviting a user to the account.

* **To monitor events that are generated by a service that is provisioned in the context of a CF org and space**, you must provision an instance of the {{site.data.keyword.cloudaccesstrailshort}} service in the same region and space where the service whose activity you want to monitor is provisioned. 

* **To monitor events that are generated by a service that is provisioned in the context of a resource group**, you must provision an instance of the {{site.data.keyword.cloudaccesstrailshort}} service in a space in the same region where the service whose activity you want to monitor is provisioned. 

* To provision an instance, your userID must have **developer role** in the space where you plan to provision the {{site.data.keyword.cloudaccesstrailshort}} service.

Complete the following steps to provision an instance of the {{site.data.keyword.cloudaccesstraillong_notm}} service in the {{site.data.keyword.Bluemix_notm}}:

1. Log in to the {{site.data.keyword.Bluemix_notm}}.

    The {{site.data.keyword.Bluemix_notm}} dashboard can be found at: [http://bluemix.net ![External link icon](../../icons/launch-glyph.svg "External link icon")](http://bluemix.net){:new_window}.
    
	After you log in with your user ID and password, the {{site.data.keyword.Bluemix_notm}} UI opens.

2. Click **Catalog**. The list of the services that are available on the {{site.data.keyword.Bluemix_notm}} opens.

3. Select the **Security and Identity** category to filter the list of services that is displayed.

    **Note:** The service is also available through the **Developer Tools** category.

4. Click the **Activity Tracker** tile. 

5. Configure the information that defines where the service is going to be provisioned.

    For example, to provision the service in the US South region, enter the data as indicated in the following table: 

    <table>
	  <caption>Table 1. Fields that are required to provision the {{site.data.keyword.cloudaccesstrailshort}} service</caption>
	  <tr>
	    <th width="50%">Field</th>
		<th width="50%">Value</th>
	  </tr>
	  <tr>
	    <td>Select region to deploy in:</td>
		<td>US South</td>
	  </tr>
	  <tr>
	    <td>Choose an organization:</td>
		<td>Select the organization where you plan to provision the {{site.data.keyword.cloudaccesstrailshort}} service.</td>
	  </tr>
	  <tr>
	    <td>Choose a space:</td>
		<td>Select the space in the organization that you have selected where you plan to provision the {{site.data.keyword.cloudaccesstrailshort}} service.</td>
	  </tr>
	</table>

6. Select a plan. 

    By default, the **Lite** plan is selected.

	For more information, see [Service plans](/docs/services/cloud-activity-tracker/activity_tracker_ov.html#plan).

7. Click **Create** to provision an instance of the {{site.data.keyword.cloudaccesstrailshort}} service in the space where you are logged in.
   


## Step 2: Grant users access to monitor events
{: #step2}

To view events, you must have access permissions in the {{site.data.keyword.Bluemix_notm}}. Permissions vary depending on whether you want to view global account events, events for a service that is provisioned in the context of a resource group, or events for a service that is provisioned in the context of a CF org and space. 

**To monitor global account actions** and **to monitor a service that is provisioned in the context of a resource group**, consider the following information:

* You must have an IAM policy for the {{site.data.keyword.loganalysisshort}} service with **reader** role on the {{site.data.keyword.loganalysisshort}} service. 
* The account owner or an administrator of the {{site.data.keyword.loganalysisshort}} service can grant this policy.

**To monitor a service that is provisioned in the context of a CF org and space**, consider the following information:

* You must have **developer** role for the space where you have provisioned an instance of the {{site.data.keyword.cloudaccesstrailshort}} service.
* The account owner, the organization manager, or the space manager can grant you the **developer** role for the space.

**Note: To grant a user an IAM policy, you must be the account owner or an administrator of the {{site.data.keyword.loganalysisshort}} service.**

### Grant users access to monitor account domain events
{: #acc}

Complete the following steps to grant a user an IAM policy from the {{site.data.keyword.Bluemix_notm}} UI:

1. Log in to the {{site.data.keyword.Bluemix_notm}} console.

    Open a web browser and launch the {{site.data.keyword.Bluemix_notm}} dashboard: [http://bluemix.net ![External link icon](../../icons/launch-glyph.svg "External link icon")](http://bluemix.net){:new_window}

2. From the menu bar, click **Manage** &gt; **Security** &gt; **Identity and Access**, and then select **Users**.
3. From the row for the user that you want to assign access, select the **Actions** menu, and then click **Assign access**.
4. Select **Assign access to resources**.
5. Select **Log Analysis**.
6. Select **All regions**.
7. Select **All service instances**.
8. Select the service role **Reader**.
9. Click Assign.

### Grant users access to monitor space domain events
{: #space}

To grant a user a developer role in a space from the {{site.data.keyword.Bluemix_notm}} UI, complete the following steps:

1. Log in to the {{site.data.keyword.Bluemix_notm}} console.

    Open a web browser and launch the {{site.data.keyword.Bluemix_notm}} dashboard: [http://bluemix.net ![External link icon](../../icons/launch-glyph.svg "External link icon")](http://bluemix.net){:new_window}
	
	After you log in with your user ID and password, the {{site.data.keyword.Bluemix_notm}} UI opens.

2. From the menu bar, click **Manage** &gt; **Security** &gt; **Identity and Access**, and then select **Users**.

3. Select the user.

4. Select **Cloud Foundry access**.

5. Expand an organization.

    The list of spaces available in that organization are listed.

6. From the action menu, select **Edit organization role**. Select the **Auditor** role for the *Organization roles* field. Then, click **Save role**.

7. Select a space. 

8. From the action menu, select **Edit space role**. Select the **Developer** role for the *Space roles* field. Then, click **Save role**.
	
7. Click **Assign**.



## Step 3: Generate {{site.data.keyword.cloudaccesstrailshort}} events
{: #step3}

After the {{site.data.keyword.cloudaccesstrailshort}} service is provisioned, events are collected automatically from selected Cloud services. To learn more about the services that you can monitor with {{site.data.keyword.cloudaccesstrailshort}}, including information on the actions that generate an {{site.data.keyword.cloudaccesstrailshort}} event, see [Cloud services](/docs/services/cloud-activity-tracker/cloud_services.html#cloud_services).

**Note:** For a user to generate {{site.data.keyword.BluVirtServers_short}} and {{site.data.keyword.baremetal_short}} {{site.data.keyword.cloudaccesstrailshort}} events, the user must have access to Infrastructure resources in the IBM Cloud Console. For more information, see [Monitoring {{site.data.keyword.BluVirtServers_short}} and {{site.data.keyword.baremetal_short}} activity with {{site.data.keyword.cloudaccesstrailshort}}](/docs/services/cloud-activity-tracker/tutorials/vsi.html#vsi).

To learn how to generate events, complete the tutorial [Monitoring {{site.data.keyword.keymanagementserviceshort}} activity with {{site.data.keyword.cloudaccesstrailshort}}](/docs/services/cloud-activity-tracker/tutorials/kp.html#kp).

## Step 4: Viewing events
{: #step4}

You can monitor {{site.data.keyword.cloudaccesstrailshort}} events in the {{site.data.keyword.Bluemix_notm}} UI. You can also upgrade your plan to the premium plan to monitor events through Kibana. 

**To monitor global account actions** and **to monitor a service that is provisioned in the context of a resource group**, consider the following information:

* Events are collected in an account domain.

    There is an account domain per region.

    Global account actions are collected in the us-south account domain.

    Events for a service are collected in the account domain of the region where an instance of this service is provisioned.

* The account owner can view events either through the {{site.data.keyword.Bluemix_notm}} UI or in Kibana.
* Other users can only view account domain events through Kibana. 


**To monitor a service that is provisioned in the context of a CF org and space**, consider the following information:

* Events are collected in a space domain. 
* Each CF space has an {{site.data.keyword.cloudaccesstrailshort}} space domain associated. 
* You can view events either through the {{site.data.keyword.Bluemix_notm}} UI or in Kibana.

The following table defines the {{site.data.keyword.cloudaccesstrailshort}} domain where you must monitor events:

| Monitoring                                                           | {{site.data.keyword.cloudaccesstrailshort}} domain |  
|----------------------------------------------------------------------|----------------------------------------------------| 
| `Global account actions`                                             | us-south account domain                            |  
| `Services that are provisioned in the context of a resource group`   | account domain                                     | 
| `Services that are provisioned in the context of a CF org and space` | space domain                                       | 
{: caption="Table 1. {{site.data.keyword.cloudaccesstrailshort}} domains per event source" caption-side="top"} 

To view events, you can choose one of the following options:

* [Navigating to the Activity Tracker dashboard to monitor cloud activity in the account](/docs/services/cloud-activity-tracker/how-to/manage-events-ui/launch_at_ui.html#account_view_account) 
* [Navigating to the Activity Tracker dashboard to monitor cloud activity in a space](/docs/services/cloud-activity-tracker/how-to/manage-events-ui/launch_at_ui.html#account_view_space) 
* [Navigating to Kibana from a web browser](/docs/services/cloud-activity-tracker/how-to/manage-events-ui/launch_kibana.html#launch_kibana).

To view events that you generate by completing the steps in the tutorial, choose [Navigating to the Activity Tracker dashboard to monitor cloud activity in the account](/docs/services/cloud-activity-tracker/how-to/manage-events-ui/launch_at_ui.html#account_view_account). If you are not the account owner, upgrade the service plan, and check that you have the correct access permissions to view events. 


## Next steps
{: #next_steps}

Use the {{site.data.keyword.cloudaccesstrailshort}} CLI to manage your events from the command line. For more information, see [Managing events by using the Activity Tracker CLI](/docs/services/cloud-activity-tracker/tutorials/manage_events_cli.html#tutorial2).



